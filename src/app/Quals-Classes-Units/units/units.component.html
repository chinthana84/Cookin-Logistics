<div *ngIf="!edited">
  <app-search (searchClicked)="setPage($event)" [search]="this.gridOption.searchObject"> </app-search>
  <table class="table table-bordered ">
    <thead>
      <th>UnitCode</th>
      <th>UnitTitle</th>
      <th>

        <button (click)="Action(null)" class="btn btn-primary  ">
          <span class="fa fa-plus"></span></button>
      </th>
    </thead>
    <tbody>
      <tr *ngFor="let item of gridOption.datas.pagedItems" class="table-hover">
        <td>{{ item.UnitCode }}</td>
        <td>{{ item.UnitTitle }}</td>
        <td>

          <button (click)="Action(item)" class="btn btn-primary  ">
            <span class="fa fa-pencil-square-o"></span></button>
        </td>
      </tr>
      <tr *ngIf="this.gridOption.datas.pagedItems==0">
        <td class="datanotfound" colspan="3">Data not found</td>
      </tr>
    </tbody>
  </table>

  <app-pager (pagedClicked)="setPage($event)" [pagerX]="gridOption"></app-pager>
  <br /><br />
</div>


<form (ngSubmit)="onSubmit(model)" *ngIf="this.edited" novalidate #heroForm="ngForm">
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label for="UnitCode">UnitCode</label>
        <input id="UnitCode" name="UnitCode" [(ngModel)]="model.UnitCode" type="text" class="form-control"
          placeholder="UnitCode" />
      </div>
    </div>
    <div class="col-md-8">
      <div class="form-group">
        <label for="UnitTitle">UnitTitle</label>
        <input id="UnitTitle" name="UnitTitle" [(ngModel)]="model.UnitTitle" type="text" class="form-control"
          placeholder="UnitTitle" />
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label for="UnitCrval">Credits</label>
        <input id="UnitCrval" name="UnitCrval" [(ngModel)]="model.UnitCrval" type="text" class="form-control"
          placeholder="Credits" />
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="UnitLevel">Level</label>
        <input id="UnitLevel" name="UnitLevel" [(ngModel)]="model.UnitLevel" type="text" class="form-control"
          placeholder="Level" />
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="UnitVersion">Version No</label>
        <input id="UnitVersion" name="UnitVersion" [(ngModel)]="model.UnitVersion" type="text" class="form-control"
          placeholder="Version No" />
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="form-group">
        <label for="UnitRange">Unit Range Notes</label>
        <textarea id="UnitRange" rows="5" name="UnitRange" [(ngModel)]="model.UnitRange" type="text" class="form-control"
          placeholder="Unit Range Notes" ></textarea>
        </div>
        </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered ">
        <thead>
          <th>ElementNo</th>
          <th>ElementName</th>
          <th>

            <button type="button" (click)="AddElement()" class="btn btn-primary  ">
              <span class="fa fa-plus"></span></button>
          </th>
        </thead>
        <tbody>
          <tr *ngFor="let item of this.model.UnitElements; let index = index" class="table-hover">
            <td>
              <input id="ElementNo" name="ElementNo{{index}}" [(ngModel)]="item.ElementNo" type="text" class="form-control"
              placeholder="ElementNo" /> </td>
            <td>

              <input id="ElementName" name="ElementName{{index}}" [(ngModel)]="item.ElementName" type="text" class="form-control"
              placeholder="ElementName" />
            </td>
            <td>
              <button type="button" (click)="LoadPCs(item.UnitelementId)" class="btn btn-primary save_button"> Select </button>

            </td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered ">
        <thead>
          <th>PC No</th>
          <th>PC Text</th>
          <th>

            <button type="button" (click)="AddPcs()" class="btn btn-primary  ">
              <span class="fa fa-plus"></span></button>
          </th>
        </thead>
        <tbody>
          <tr *ngFor="let item of this.selectedPCs;
                  let indexx = index" class="table-hover">
            <td>
              <input id="Pcnum" name="Pcnum{{indexx}}" [(ngModel)]="item.Pcnum" type="text" class="form-control"
              placeholder="Pcnum" /> </td>
            <td>

              <input id="Pctext" name="Pctext{{indexx}}" [(ngModel)]="item.Pctext" type="text" class="form-control"
              placeholder="Pctext" />
            </td>
            <td>
              <button type="button"   class="btn btn-primary save_button"> Select </button>

            </td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>

  <div class="btn-group">
    <button type="submit" class="btn btn-primary save_button"> <span class="fa fa-save"></span> </button>
    <button type="button" (click)="router.navigate(['units']);" class="btn btn-primary back_button"> <span
        class="fa fa-arrow-left"></span> </button>
  </div>
</form>
<pre>{{this.model | json}} </pre>
<br />
{{this.selectedElementID | json}}<br />
{{this.selectedPCs | json}}<br />
